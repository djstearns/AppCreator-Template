function Controller(){function e(e){return{id:e.attributes.id,widget_id:e.attributes.widget_id,worker_id:e.attributes.worker_id,itemqty:e.attributes.numbermade}}function t(){var e=Ti.Network.createHTTPClient({onerror:function(e){Ti.API.debug(e.error),t(),alert("There was an error during the connection")},timeout:1e3});e.open("GET",Alloy.Globals.BASEURL+a+"/mobilesave"),e.send({id:i.name.datid,name:i.name.value,description:i.description.value}),e.onload=function(){var e=JSON.parse(this.responseText);0==e.length&&(i.table.headerTitle="The database row is empty")}}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="workers_widgetsEdit",arguments[0]?arguments[0].__parentSymbol:null,arguments[0]?arguments[0].$model:null,arguments[0]?arguments[0].__itemTemplate:null;var i=this,o={};i.thingDetail=Alloy.createModel("workers_widgets"),i.__views.detail=Ti.UI.createWindow({backgroundColor:"white",id:"detail",model:"$.thingDetail",dataTransform:"dataTransformation",layout:"vertical"}),i.__views.detail&&i.addTopLevelView(i.__views.detail),i.__views.widget_id=Ti.UI.createTextField({width:200,top:10,borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED,autocapitalization:Ti.UI.TEXT_AUTOCAPITALIZATION_NONE,id:"widget_id"}),i.__views.detail.add(i.__views.widget_id),i.__views.worker_id=Ti.UI.createTextField({width:200,top:10,borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED,autocapitalization:Ti.UI.TEXT_AUTOCAPITALIZATION_NONE,id:"worker_id"}),i.__views.detail.add(i.__views.worker_id),i.__views.numbermade=Ti.UI.createTextField({width:200,top:10,borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED,autocapitalization:Ti.UI.TEXT_AUTOCAPITALIZATION_NONE,id:"numbermade"}),i.__views.detail.add(i.__views.numbermade),i.__views.savebtn=Ti.UI.createButton({top:10,title:"Save",id:"savebtn"}),i.__views.detail.add(i.__views.savebtn),i.__views.cancelbtn=Ti.UI.createButton({top:10,title:"Cancel",id:"cancelbtn"}),i.__views.detail.add(i.__views.cancelbtn);var n=function(){i.widget_id.datid=_.isFunction(i.thingDetail.transform)?i.thingDetail.transform().id:i.thingDetail.get("id"),i.widget_id.value=_.isFunction(i.thingDetail.transform)?i.thingDetail.transform().widget_id:i.thingDetail.get("widget_id"),i.widget_id.datid=_.isFunction(i.thingDetail.transform)?i.thingDetail.transform().id:i.thingDetail.get("id"),i.widget_id.value=_.isFunction(i.thingDetail.transform)?i.thingDetail.transform().widget_id:i.thingDetail.get("widget_id"),i.worker_id.value=_.isFunction(i.thingDetail.transform)?i.thingDetail.transform().worker_id:i.thingDetail.get("worker_id"),i.worker_id.value=_.isFunction(i.thingDetail.transform)?i.thingDetail.transform().worker_id:i.thingDetail.get("worker_id"),i.numbermade.value=_.isFunction(i.thingDetail.transform)?i.thingDetail.transform().numbermade:i.thingDetail.get("numbermade"),i.numbermade.value=_.isFunction(i.thingDetail.transform)?i.thingDetail.transform().numbermade:i.thingDetail.get("numbermade")};i.thingDetail.on("fetch change destroy",n),o.destroy=function(){i.thingDetail.off("fetch change destroy",n)},_.extend(i,i.__views);var a="workerswidgets",r=arguments[0]||{};r.parentTab||"";var l=0===r.dataId||r.dataId>0?r.dataId:"";Ti.API.info(l),""!=l&&(i.thingDetail.set(r.model.attributes),i.thingDetail=_.extend({},i.thingDetail,{transform:function(){return e(this)}})),i.cancelbtn.addEventListener("click",function(){i.detail.close()}),i.savebtn.addEventListener("click",function(){var e=r.model;e.set("name",i.name.value),e.save(),Alloy.Collections.Thing.fetch(),t(),i.detail.close()}),_.extend(i,o)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;