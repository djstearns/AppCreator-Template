function Controller(){require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="scanner",arguments[0]?arguments[0].__parentSymbol:null,arguments[0]?arguments[0].$model:null,arguments[0]?arguments[0].__itemTemplate:null;var e=this,t={};e.__views.scannerwin=Ti.UI.createWindow({backgroundColor:"white",id:"scannerwin"}),e.__views.scannerwin&&e.addTopLevelView(e.__views.scannerwin),t.destroy=function(){},_.extend(e,e.__views);var i=arguments[0]||{},n=require("com.mirasense.scanditsdk");("iphone"==Ti.Platform.osname||"ipad"==Ti.Platform.osname)&&(Ti.UI.iPhone.statusBarHidden=!0);var r,o=Ti.UI.createWindow({title:"Scandit SDK",navBarHidden:!0}),a=function(){r=n.createView({width:"100%",height:"100%"}),r.init("vRNYEm1VEeKY90ok35tWw0cf8zCRI36iR1siUpvgUy0",0),r.showSearchBar(!0),r.showToolBar(!0),r.setSuccessCallback(function(e){if(Ti.API.info(i),"false"==i.upload)Ti.App.fireEvent(i.functionname,{sybology:e.symbology,barcode:e.barcode});else{var t=Ti.Network.createHTTPClient({onerror:function(e){Ti.API.debug(e.error),alert("There was an error during the connection")},timeout:1e3});t.onload=function(){JSON.parse(this.responseText),alert(this.responseText)},t.open("POST","http://www.derekstearns.com/dinnernew/items/appadd"),t.setRequestHeader("Content-Type","application/json"),t.send({code:e.barcode})}}),r.setCancelCallback(function(){s()}),o.add(r),o.addEventListener("open",function(){"iphone"==Ti.Platform.osname||"ipad"==Ti.Platform.osname?r.setOrientation(Ti.UI.orientation):r.setOrientation(o.orientation),r.setSize(Ti.Platform.displayCaps.platformWidth,Ti.Platform.displayCaps.platformHeight),r.startScanning()}),o.open()},s=function(){null!=r&&(r.stopScanning(),o.remove(r)),o.close()};Ti.Gesture.addEventListener("orientationchange",function(e){o.orientationModes=[Ti.UI.PORTRAIT,Ti.UI.UPSIDE_PORTRAIT,Ti.UI.LANDSCAPE_LEFT,Ti.UI.LANDSCAPE_RIGHT],null!=r&&(r.setOrientation(e.orientation),r.setSize(Ti.Platform.displayCaps.platformWidth,Ti.Platform.displayCaps.platformHeight))});var l=Ti.UI.createButton({width:200,height:80,title:"start scanner"});if(l.addEventListener("click",function(){a()}),"false"==i.upload){var d=Ti.UI.createButton({width:200,height:80,top:300,title:"Back"});d.addEventListener("click",function(){e.scannerwin.close()}),e.scannerwin.add(d)}e.scannerwin.add(l),_.extend(e,t)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;