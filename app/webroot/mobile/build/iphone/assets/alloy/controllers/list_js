function Controller(){function t(t){var e=t.rowData.dataId;t.rowData.someRandomVar;var i=Alloy.createController("detail",{parentTab:r.tabList,dataId:e});r.tabList.open(i.getView())}function e(t){var e=t.rowData.dataId,i=Ti.UI.createOptionDialog({options:["View","Delete","Cancel"],cancel:2,destructive:1,persistent:!1,dataId:e});i.addEventListener("click",function(t){var e=t.index,s=t.source.dataId;if(""!==s&&0===e){var n=Alloy.createController("detail",{parentTab:r.tabList,dataId:s});r.tabList.open(n.getView())}else if(""!==s&&1===e){var o=require("data");o.deleteItem(s),Ti.App.fireEvent("dataUpdated")}i.hide(),i=null}),i.show()}function i(){alert("Not Implemented")}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="list",arguments[0]?arguments[0].__parentSymbol:null,arguments[0]?arguments[0].$model:null,arguments[0]?arguments[0].__itemTemplate:null;var r=this,s={};r.__views.list=Ti.UI.createWindow({backgroundColor:"white",id:"list"}),r.__views.__alloyId1=Ti.UI.createView({id:"__alloyId1"}),r.__views.list.add(r.__views.__alloyId1),r.__views.activityIndicator=Ti.UI.createActivityIndicator({height:Ti.UI.SIZE,width:Ti.UI.SIZE,top:20,style:Ti.UI.iPhone.ActivityIndicatorStyle.DARK,id:"activityIndicator"}),r.__views.__alloyId1.add(r.__views.activityIndicator),r.__views.labelNoRecords=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"#000",visible:!1,top:20,id:"labelNoRecords"}),r.__views.__alloyId1.add(r.__views.labelNoRecords),r.__views.tableRecords=Ti.UI.createTableView({height:Ti.UI.SIZE,top:0,id:"tableRecords"}),r.__views.__alloyId1.add(r.__views.tableRecords),r.__views.tabList=Ti.UI.createTab(function(){var t={};return _.extend(t,{}),Alloy.isHandheld&&_.extend(t,{icon:"images/4_collections_view_as_list.png"}),_.extend(t,{window:r.__views.list,id:"tabList"}),t}()),r.__views.tabList&&r.addTopLevelView(r.__views.tabList),s.destroy=function(){},_.extend(r,r.__views),r.tabList.title=L("list","List"),r.list.title=L("list","List"),Ti.App.addEventListener("dataUpdated",function(){_.isEmpty(r.tableRecords.data)||(r.tableRecords.data=[],r.tableRecords.removeEventListener("click",t),r.tableRecords.removeEventListener("longpress",e)),r.activityIndicator.show(),r.labelNoRecords.visible=!1,setTimeout(function(){r.activityIndicator.hide();var i=require("data"),s=i.getAll();if(s.length){for(var n=[],o=0;s.length>o;o++){var a=s[o],l=Ti.UI.createTableViewRow({title:a.title,dataId:o,className:"row",objName:"row",height:Alloy.Globals.Styles.TableViewRow.height,someRandomVar:"Just as an example "+o});n.push(l)}r.tableRecords.setData(n)}else r.labelNoRecords.text=L("noRecordsFound","No Records Found"),r.labelNoRecords.visible=!0;r.tableRecords.addEventListener("click",t),r.tableRecords.addEventListener("longpress",e)},2e3)}),Ti.App.fireEvent("dataUpdated");var n=Ti.UI.createButton({title:L("addItem","Add Item")});n.addEventListener("click",i),r.list.rightNavButton=n,_.extend(r,s)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;