function Controller(){function t(t){return{id:t.attributes.id,name:t.attributes.name,description:t.attributes.description}}function e(){var t=Ti.Network.createHTTPClient({onerror:function(t){Ti.API.debug(t.error),e(),alert("There was an error during the connection")},timeout:1e3});t.open("GET",Alloy.Glogals.BASEURL+"workers/mobilesave"),t.send({id:i.name.datid,name:i.name.value,description:i.description.value}),t.onload=function(){var t=JSON.parse(this.responseText);0==t.length&&(i.table.headerTitle="The database row is empty")}}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="detail",arguments[0]?arguments[0].__parentSymbol:null,arguments[0]?arguments[0].$model:null,arguments[0]?arguments[0].__itemTemplate:null;var i=this,n={};i.thingDetail=Alloy.createModel("Widget"),i.__views.detail=Ti.UI.createWindow({backgroundColor:"white",id:"detail",model:"$.thingDetail",dataTransform:"dataTransformation",layout:"vertical"}),i.__views.detail&&i.addTopLevelView(i.__views.detail),i.__views.name=Ti.UI.createTextField({width:200,top:10,borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED,autocapitalization:Ti.UI.TEXT_AUTOCAPITALIZATION_NONE,id:"name",hintText:"Name"}),i.__views.detail.add(i.__views.name),i.__views.description=Ti.UI.createTextField({width:200,top:10,borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED,autocapitalization:Ti.UI.TEXT_AUTOCAPITALIZATION_NONE,id:"description"}),i.__views.detail.add(i.__views.description),i.__views.savebtn=Ti.UI.createButton({top:10,title:"Save",id:"savebtn"}),i.__views.detail.add(i.__views.savebtn),i.__views.cancelbtn=Ti.UI.createButton({top:10,title:"Cancel",id:"cancelbtn"}),i.__views.detail.add(i.__views.cancelbtn);var r=function(){i.name.datid=_.isFunction(i.thingDetail.transform)?i.thingDetail.transform().id:i.thingDetail.get("id"),i.name.value=_.isFunction(i.thingDetail.transform)?i.thingDetail.transform().name:i.thingDetail.get("name"),i.name.datid=_.isFunction(i.thingDetail.transform)?i.thingDetail.transform().id:i.thingDetail.get("id"),i.name.value=_.isFunction(i.thingDetail.transform)?i.thingDetail.transform().name:i.thingDetail.get("name"),i.description.value=_.isFunction(i.thingDetail.transform)?i.thingDetail.transform().description:i.thingDetail.get("description"),i.description.value=_.isFunction(i.thingDetail.transform)?i.thingDetail.transform().description:i.thingDetail.get("description")};i.thingDetail.on("fetch change destroy",r),n.destroy=function(){i.thingDetail.off("fetch change destroy",r)},_.extend(i,i.__views);var s=arguments[0]||{};s.parentTab||"";var a=0===s.dataId||s.dataId>0?s.dataId:"";""!==a&&(i.thingDetail.set(s.model.attributes),i.thingDetail=_.extend({},i.thingDetail,{transform:function(){return t(this)}})),i.cancelbtn.addEventListener("click",function(){i.detail.close()}),i.savebtn.addEventListener("click",function(){var t=s.model;t.set("description",i.description.value),t.set("name",i.name.value),t.save(),e(),i.detail.close()}),_.extend(i,n)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;